<div class="h-screen flex flex-col overflow-y-hidden overflow-x-hidden">
  
  <div class="toggle-btn" *ngIf="!isMobile()">
    <button mat-icon-button (click)="toggleSidebar()">
      <mat-icon>{{ isMenuExpanded() ? "chevron_left" : "menu" }}</mat-icon>
    </button>
  </div>

  <div class="sidebar-header">
    <img
      [src]="authService.currentLoggedUser?.profileImage || '...'"
      alt="Profile picture"
      class="cursor-pointer"
      (click)="goToAccount()"
      [width]="profileImageSize()"
      [height]="profileImageSize()"
      matTooltip="Go to account"
      matTooltipPosition="above"
    />
    
    <div class="header-text" [class.hide-header-text]="!isMenuExpanded()">
      <div class="flex items-center gap-1">
        <h2>Your account</h2>
        <mat-icon
          (click)="editAccount()"
          class="edit-icon"
          matTooltip="Edit your account"
          matTooltipPosition="above"
          >edit</mat-icon>
      </div>
      <p>
        {{ authService.currentLoggedUser?.name + " " + authService.currentLoggedUser?.surname }}
      </p>
    </div>
  </div>

  <mat-nav-list>
    <a
      mat-list-item
      *ngFor="let item of menuItems()"
      [routerLink]="item.route"
      routerLinkActive="selected-menu-item"
      #rla="routerLinkActive"
      [activated]="rla.isActive"
      (click)="toggleSidebar('close')"
    >
      <mat-icon class="flex justify-center" matListItemIcon>{{ item.icon }}</mat-icon>
      
      <span matListItemTitle *ngIf="isMenuExpanded()">{{ item.label }}</span>
    </a>
  </mat-nav-list>

  <span class="text-muted text-sm mt-4 ms-2" *ngIf="isMenuExpanded()">Admin items</span>
  
  <mat-nav-list>
    <a
      mat-list-item
      *ngFor="let item of adminItems()"
      [routerLink]="item.route"
      routerLinkActive="selected-menu-item"
      #rla="routerLinkActive"
      [activated]="rla.isActive"
      (click)="toggleSidebar('close')"
    >
      <mat-icon class="flex justify-center" matListItemIcon>{{ item.icon }}</mat-icon>
      <span matListItemTitle *ngIf="isMenuExpanded()">{{ item.label }}</span>
    </a>
  </mat-nav-list>

  <div
    class="logout-btn w-full p-2 flex"
    [ngClass]="{
      'flex-col': !isMenuExpanded(),
      'flex-row': isMenuExpanded()
    }"
  >
    <button mat-button class="flex items-center justify-end w-full" (click)="settings()">
      <mat-icon>settings</mat-icon>
      <span class="text transition-text" [class.hide-text]="!isMenuExpanded()">Settings</span>
    </button>
    <button mat-button class="flex items-center justify-end w-full" (click)="logout()">
      <mat-icon>logout</mat-icon>
      <span class="text transition-text" [class.hide-text]="!isMenuExpanded()">Logout</span>
    </button>
  </div>
</div>