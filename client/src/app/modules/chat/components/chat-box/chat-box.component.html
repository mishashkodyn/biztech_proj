<div class="chat-section flex flex-col h-full">
  
  <div
    #messageScroll
    class="flex-1 custom-scroll overflow-y-auto p-4 flex flex-col gap-2"
    style="overscroll-behavior-y: contain;"
  >
    <div
      class="message max-w-[85%] md:max-w-[70%]"
      *ngFor="let item of chatService.chatMessages(); let i = index"
      [ngClass]="{
        'self-end': item.senderId === authService.currentLoggedUser?.id,
        'self-start': item.senderId !== authService.currentLoggedUser?.id
      }"
    >
      <div 
        class="p-3 rounded-2xl shadow-sm text-sm md:text-base relative min-w-[80px]"
        [ngClass]="{
             'bg-blue-100 rounded-br-none': item.senderId === authService.currentLoggedUser?.id,
             'bg-gray-100 rounded-bl-none': item.senderId !== authService.currentLoggedUser?.id
        }"
      >
        <span class="break-words block mb-3">{{ item.content }}</span>
        <div class="absolute bottom-1 right-2 flex items-center gap-1 text-[10px] text-gray-500">
           <span>{{ item.createdDate | date : "HH:mm" }}</span>
           </div>
      </div>

    </div>
  </div>
</div>